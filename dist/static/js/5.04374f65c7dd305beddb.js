webpackJsonp([5],{1256:function(t,e,a){"use strict";function s(t){a(1268)}Object.defineProperty(e,"__esModule",{value:!0});var i=a(1262),n=a(1270),o=a(0),r=s,c=Object(o.a)(i.a,n.a,n.b,!1,r,null,null);e.default=c.exports},1262:function(t,e,a){"use strict";var s=a(1),i=a(3),n=a(12);e.a={mixins:[s.a,n.a],components:{},name:"linkAdmin",data:function(){var t=this;return{totalRegistNumber:0,totalOpenNumber:0,row:{},shwoActionSheet:!1,data:[],dns:[{n:"生成时间",key:"createTime"},{n:"链接备注",key:"lineRemards"},{n:"状态",state:!0,wrap:function(e){return t.config.lineStatus[e.lineStatus]}},{n:"联系方式",wrap:function(t){return(t.qq?"QQ:"+t.qq:"")+(t.phone?" Tel:"+t.phone:"")+(t.weChant?" WX:"+t.weChant:"")}},{n:"注册人数",key:"registNumber"},{n:"点击次数",key:"openNumber"}]}},computed:{},watch:{},created:function(){this.init()},methods:{__init_link_list:function(){this.init()},init:function(){this.$el&&this.$f7.ptr.refresh(this.$el.querySelector(".ptr-content")),this.list()},status:function(){var t=this;this.$.get(i.a.updateRegistLinesStatus,{entry:this.row.entry,lineStatus:this.row.lineStatus}).then(function(e){e.data;t.init()})},list:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{pageNum:1,page:1,pageSize:this.pageSize,size:this.pageSize},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultListCb;this.$.get(i.a.queryRegistLines,e).then(function(e){var s=e.data,i=s.list,n=s.totalSize,o=s.totalRegistNumber,r=s.totalOpenNumber;t.data=i,t.total=n,t.totalRegistNumber=o,t.totalOpenNumber=r,a&&a(i)})},copySuccess:function(){this.__toast("复制成功")},copyError:function(){this.__toast("复制失败")},doloadImg:function(t){var e=document.createElement("a");e.href="data:image/octet-stream;base64,"+t.base64Str,e.download="qr_code_"+Date.now()+".png";var a=document.createEvent("MouseEvents");a.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(a)}}}},1268:function(t,e,a){var s=a(1269);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(1253)("3c9b3895",s,!0,{})},1269:function(t,e,a){e=t.exports=a(1252)(!1),e.push([t.i,".linkadmin .page-content{padding-top:180px}",""])},1270:function(t,e,a){"use strict";a.d(e,"a",function(){return s}),a.d(e,"b",function(){return i});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("f7-page",{staticClass:"linkadmin",attrs:{"page-content":!1}},[a("div",{staticClass:"p_a wp_100 p_t_44 z_9503 ft_14 bgc_f"},[a("div",{staticClass:"pd_10"},[a("p",{staticClass:"mt_0 mb_5 text-color-deeporange"},[t._v("汇总统计")]),a("f7-row",{staticClass:"t_c"},[a("f7-col",{staticClass:"bgc_f7 pd_5"},[a("f7-icon",{attrs:{f7:"person",color:"orange"}}),a("span",[t._v("注册人数 "+t._s(t.totalRegistNumber))])],1),a("f7-col",{staticClass:"bgc_f7 pd_5"},[a("f7-icon",{attrs:{f7:"hand_point_right_fill",color:"orange"}}),a("span",[t._v(" 点击次数 "+t._s(t.totalOpenNumber))])],1)],1),a("f7-button",{staticClass:"ft_16 mt_10",attrs:{fill:"fill",large:"large"},on:{click:function(e){return t.__go("/agent/editlink",{})}}},[t._v("+新增")])],1)]),a("div",{staticClass:"page-content ptr-content infinite-scroll-content",attrs:{"ptr-mousewheel":"true","infinite-distance":50},on:{"ptr:refresh":t.refresh,infinite:t.loadMore}},[a("div",{staticClass:"ptr-preloader"},[a("div",{staticClass:"preloader"}),a("div",{staticClass:"ptr-arrow"})]),t._l(t.data,function(e,s){return[a("f7-card",{key:s},[a("f7-card-header",[a("div",{staticClass:"a ft_14"},[a("span",[t._v("链接地址")])]),a("div",[a("f7-button",{staticClass:"inlb mr_2",attrs:{color:"deeporange",outline:"outline",small:"small","popover-open":".linkadmincdl"},on:{click:function(a){t.row=e}}},[t._v("查看返水返点详情")]),a("f7-button",{staticClass:"inlb",attrs:{color:"deeporange",outline:"outline",small:"small"},on:{click:function(a){t.row=e,t.shwoActionSheet=!0}}},[t._v("操作...")])],1)]),a("f7-card-header",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.line,expression:"x.line",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.copySuccess,expression:"copySuccess",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.copyError,expression:"copyError",arg:"error"}],staticClass:"ft_14"},[a("div",{staticClass:"ellipsis"},[t._v(t._s(e.line)),a("div",{staticClass:"h_1 bgc_6 wp_100"})])]),a("f7-card-content",{staticClass:"pt_0 pb_0"},t._l(t.dns,function(s,i){return a("div",{staticClass:"a wp_33 inlb v_t mt_10 mb_10",class:{t_r:i%3==2,t_c:i%3==1}},[a("div",{staticClass:"n c_0 pb_5"},[t._v(t._s(s.n))]),a("div",{staticClass:"v c_6"},[s.start?a("span",[t._v(t._s(s.start))]):t._e(),a("span",{directives:[{name:"nwc",rawName:"v-nwc",value:s.nwc,expression:" y.nwc "},{name:"state",rawName:"v-state",value:s.state,expression:" y.state "}]},[t._v(t._s(s.wrap?s.wrap(e):e[s.key]))])])])}),0)],1)]}),t.showPreloader?a("div",{staticClass:"preloader infinite-scroll-preloader"}):t._e(),a("div",{staticClass:"t_c text-color-gray pd_15 nomore"},[t._v("--没有更多了--")])],2),a("f7-popup",{staticClass:"linkadmincdl r_5 dialog-popup-auto-center popup full_w80 modal-out"},[a("f7-navbar",{attrs:{title:"查看返水返点详情"}},[a("f7-nav-right"),a("f7-link",{attrs:{"icon-f7":"close","icon-size":"40px","popup-close":".linkadmincdl"}})],1),a("div",{staticClass:"pd_10"},[a("f7-list",{staticClass:"mg_0",attrs:{simple:"simple"}},t._l(t.row.pointArr,function(e){return a("f7-list-item",[a("span",[t._v(t._s(e.point))])])}),1)],1),a("f7-button",{staticClass:"ft_16 mg_10",attrs:{fill:"fill",large:"large","popup-close":".linkadmincdl"}},[t._v("确定")])],1),a("f7-actions",{attrs:{opened:t.shwoActionSheet},on:{"actions:closed":function(e){t.shwoActionSheet=!1}}},[a("f7-actions-group",[1==t.row.lineStatus?a("f7-actions-button",{staticClass:"c_0",nativeOn:{click:function(e){return t.doloadImg(t.row)}}},[t._v("保存二维码到手机")]):t._e(),1==t.row.lineStatus?a("f7-actions-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.row.line,expression:"row.line",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.copySuccess,expression:"copySuccess",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.copyError,expression:"copyError",arg:"error"}],staticClass:"c_0"},[t._v("复制链接")]):t._e(),1==t.row.lineStatus?a("f7-actions-button",{staticClass:"c_0",on:{click:function(e){return t.__go("/agent/editlink",{props:{row:t.row}})}}},[t._v("修改")]):t._e(),1==t.row.lineStatus?a("f7-actions-button",{staticClass:"c_0",on:{click:t.status}},[t._v("停用")]):t._e(),2==t.row.lineStatus?a("f7-actions-button",{staticClass:"c_0",on:{click:t.status}},[t._v("删除")]):t._e()],1),a("f7-actions-group",[a("f7-actions-button",{staticClass:"c_0"},[t._v("取消")])],1)],1)],1)},i=[]}});