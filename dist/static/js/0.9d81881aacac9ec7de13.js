webpackJsonp([0],{868:function(e,t,n){"use strict";function r(e){n(880)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(872),i=n(882),a=n(5),o=r,u=Object(a.a)(s.a,i.a,i.b,!1,o,null,null);t.default=u.exports},872:function(e,t,n){"use strict";var r=n(6),s=n(10);t.a={mixins:[r.a],components:{},name:"speed",props:[],data:function(){return{sites:[]}},computed:{sortedSites:function(){return this.sites.sort(function(e,t){return e.speed-t.speed})}},created:function(){},methods:{__getNewEnableLines:function(){this.getNewEnableLines()},getNewEnableLines:function(){var e=this;this.$.get(s.a.getNewEnableLines).then(function(t){var n=t.data.frontList;e.sites=Array(n.length).fill(0).map(function(e,t){return{url:n[t].line,speed:2e3,squares:2}}),e.getSpeed()})},getSpeed:function(e){var t=this;this.sites.forEach(function(e,n){var r=document.createElement("script"),s=Date.now();r.setAttribute("src",e.url+"/dscagamesclient/login/lineTest.do?method=lineTest"),r.onload=function(){e.speed=Date.now()-s,e.squares=t.getSquares(e.speed)},r.onerror=function(){e.speed=1e4,e.squares=t.getSquares(e.speed)},t.$el.appendChild(r)})},getColors:function(e){if(e){if(e<5)return"red";if(e<10)return"orange";if(e<15)return"green";if(e<20)return"blue"}return"red"},getSquares:function(e){if(e){if(e<50)return 19;if(e<100)return 17;if(e<200)return 15;if(e<300)return 13;if(e<400)return 11;if(e<500)return 9;if(e<700)return 7;if(e<900)return 5;if(e<1e3)return 3;if(e<2e3)return 2;if(e<5e3)return 1}return 0}}}},880:function(e,t,n){var r=n(881);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(863)("3ca56719",r,!0,{})},881:function(e,t,n){t=e.exports=n(862)(!0),t.push([e.i,".speed .tag{position:absolute;top:0;left:0;height:40px;line-height:40px;width:100px;-webkit-transform:rotate(-45deg) translateX(-20px) translateY(-25px);transform:rotate(-45deg) translateX(-20px) translateY(-25px)}","",{version:3,sources:["E:/company/vue.xy.h5.pwa/src/views/popup/speed.vue"],names:[],mappings:"AACA,YACE,kBAAmB,AACnB,MAAO,AACP,OAAQ,AACR,YAAa,AACb,iBAAkB,AAClB,YAAa,AACb,qEAAuE,AAC/D,4DAA+D,CACxE",file:"speed.vue",sourcesContent:["\n.speed .tag {\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 40px;\n  line-height: 40px;\n  width: 100px;\n  -webkit-transform: rotateZ(-45deg) translateX(-20px) translateY(-25px);\n          transform: rotateZ(-45deg) translateX(-20px) translateY(-25px);\n}"],sourceRoot:""}])},882:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return s});var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("f7-page",{staticClass:"speed bg-color-deeporange"},[n("f7-navbar",[n("f7-nav-left",[n("f7-link",{attrs:{text:"取消",color:"gray","popup-close":"#speed"}})],1),n("f7-nav-title",[e._v("线路切换")])],1),e._l(e.sortedSites,function(t,r){return n("div",{key:t.url,staticClass:"mg_15 pd_20 bg-color-white r_10 p_r o_h",class:{current:e.window.location.origin===t.url},on:{click:function(n){e.window.location.href=t.url}}},[r?e._e():n("div",{staticClass:"tag bg-color-red t_c"},[e._v("推荐")]),n("div",{staticClass:"t_r"},[e._v(e._s(t.speed)+"ms")]),n("div",{staticClass:"t_r"},[n("span",{staticClass:"pr_10 inlb v_m"},[e._v("线路"+e._s(r+1))]),n("f7-progressbar",{staticClass:"wp_80 inlb h_10",attrs:{progress:5*t.squares,color:e.getColors(t.squares)}})],1)])})],2)},s=[]}});
//# sourceMappingURL=0.9d81881aacac9ec7de13.js.map