{"version":3,"sources":["webpack:///static/js/0.3b36fa6c0c919d9067a1.js","webpack:///./src/views/popup/speed.vue?a740","webpack:///./src/views/popup/speed.vue?0923","webpack:///./src/views/popup/speed.vue?3592","webpack:///./src/views/popup/speed.vue","webpack:///src/views/popup/speed.vue"],"names":["webpackJsonp","1004","module","exports","__webpack_require__","content","i","locals","1005","push","version","sources","names","mappings","file","sourcesContent","sourceRoot","1006","__webpack_exports__","d","render","staticRenderFns","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","text","color","popup-close","_v","_l","site","key","url","class","current","window","location","origin","on","click","$event","href","_e","_s","speed","progress","squares","getColors","992","injectStyle","context","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_speed_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_3ce19dfe_hasScoped_false_optionsId_0_buble_transforms_node_modules_vue_loader_lib_template_compiler_preprocessor_engine_pug_optionsId_0_node_modules_vue_loader_lib_selector_type_template_index_0_speed_vue__","__WEBPACK_IMPORTED_MODULE_2__node_modules_vue_loader_lib_runtime_component_normalizer__","__vue_styles__","Component","996","__WEBPACK_IMPORTED_MODULE_0__config__","__WEBPACK_IMPORTED_MODULE_1__api__","mixins","components","name","props","data","sites","computed","sortedSites","sort","a","b","created","methods","__getNewEnableLines","getNewEnableLines","_this","$","get","then","_ref","frontList","Array","length","fill","map","x","line","getSpeed","s","_this2","forEach","n","document","createElement","t","Date","now","setAttribute","onload","getSquares","onerror","$el","appendChild"],"mappings":"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","file":"static/js/0.3b36fa6c0c919d9067a1.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ 1004:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(1005);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(987)(\"3ca56719\", content, true, {});\n\n/***/ }),\n\n/***/ 1005:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(986)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".speed .tag{position:absolute;top:0;left:0;height:40px;line-height:40px;width:100px;-webkit-transform:rotate(-45deg) translateX(-20px) translateY(-25px);transform:rotate(-45deg) translateX(-20px) translateY(-25px)}\", \"\", {\"version\":3,\"sources\":[\"E:/company/vue.xy.h5.pwa/src/views/popup/speed.vue\"],\"names\":[],\"mappings\":\"AACA,YACE,kBAAmB,AACnB,MAAO,AACP,OAAQ,AACR,YAAa,AACb,iBAAkB,AAClB,YAAa,AACb,qEAAuE,AAC/D,4DAA+D,CACxE\",\"file\":\"speed.vue\",\"sourcesContent\":[\"\\n.speed .tag {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  height: 40px;\\n  line-height: 40px;\\n  width: 100px;\\n  -webkit-transform: rotateZ(-45deg) translateX(-20px) translateY(-25px);\\n          transform: rotateZ(-45deg) translateX(-20px) translateY(-25px);\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 1006:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return render; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return staticRenderFns; });\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('f7-page',{staticClass:\"speed bg-color-deeporange\"},[_c('f7-navbar',[_c('f7-nav-left',[_c('f7-link',{attrs:{\"text\":\"取消\",\"color\":\"gray\",\"popup-close\":\"#speed\"}})],1),_c('f7-nav-title',[_vm._v(\"线路切换\")])],1),_vm._l((_vm.sortedSites),function(site,i){return _c('div',{key:site.url,staticClass:\"mg_15 pd_20 bg-color-white r_10 p_r o_h\",class:{ current: _vm.window.location.origin === site.url },on:{\"click\":function($event){_vm.window.location.href = site.url}}},[( !i )?_c('div',{staticClass:\"tag bg-color-red t_c\"},[_vm._v(\"推荐\")]):_vm._e(),_c('div',{staticClass:\"t_r\"},[_vm._v(_vm._s(site.speed)+\"ms\")]),_c('div',{staticClass:\"t_r\"},[_c('span',{staticClass:\"pr_10 inlb v_m\"},[_vm._v(\"线路\"+_vm._s(i+1))]),_c('f7-progressbar',{staticClass:\"wp_80 inlb h_10\",attrs:{\"progress\":site.squares * 5,\"color\":_vm.getColors(site.squares)}})],1)])})],2)}\nvar staticRenderFns = []\n\n\n/***/ }),\n\n/***/ 992:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_speed_vue__ = __webpack_require__(996);\n/* empty harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_3ce19dfe_hasScoped_false_optionsId_0_buble_transforms_node_modules_vue_loader_lib_template_compiler_preprocessor_engine_pug_optionsId_0_node_modules_vue_loader_lib_selector_type_template_index_0_speed_vue__ = __webpack_require__(1006);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__node_modules_vue_loader_lib_runtime_component_normalizer__ = __webpack_require__(0);\nfunction injectStyle (context) {\n  __webpack_require__(1004)\n}\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\n\nvar Component = Object(__WEBPACK_IMPORTED_MODULE_2__node_modules_vue_loader_lib_runtime_component_normalizer__[\"a\" /* default */])(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_speed_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_3ce19dfe_hasScoped_false_optionsId_0_buble_transforms_node_modules_vue_loader_lib_template_compiler_preprocessor_engine_pug_optionsId_0_node_modules_vue_loader_lib_selector_type_template_index_0_speed_vue__[\"a\" /* render */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_3ce19dfe_hasScoped_false_optionsId_0_buble_transforms_node_modules_vue_loader_lib_template_compiler_preprocessor_engine_pug_optionsId_0_node_modules_vue_loader_lib_selector_type_template_index_0_speed_vue__[\"b\" /* staticRenderFns */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 996:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__config__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__api__ = __webpack_require__(9);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  mixins: [__WEBPACK_IMPORTED_MODULE_0__config__[\"a\" /* default */]],\n  components: {},\n  name: 'speed',\n  props: [],\n  data: function data() {\n    return {\n      sites: []\n    };\n  },\n\n  computed: {\n    sortedSites: function sortedSites() {\n      return this.sites.sort(function (a, b) {\n        return a.speed - b.speed;\n      });\n    }\n  },\n  created: function created() {},\n\n  methods: {\n    __getNewEnableLines: function __getNewEnableLines() {\n      this.getNewEnableLines();\n    },\n    getNewEnableLines: function getNewEnableLines() {\n      var _this = this;\n\n      this.$.get(__WEBPACK_IMPORTED_MODULE_1__api__[\"a\" /* default */].getNewEnableLines).then(function (_ref) {\n        var frontList = _ref.data.frontList;\n\n        _this.sites = Array(frontList.length).fill(0).map(function (x, i) {\n          return x = { url: frontList[i].line, speed: 2000, squares: 2 };\n        });\n        _this.getSpeed();\n      });\n    },\n    getSpeed: function getSpeed(s) {\n      var _this2 = this;\n\n      this.sites.forEach(function (s, i) {\n        var n = document.createElement('script');\n        var t = Date.now();\n        n.setAttribute('src', s.url + '/dscagamesclient/login/lineTest.do?method=lineTest');\n        n.onload = function () {\n          s.speed = Date.now() - t;\n          s.squares = _this2.getSquares(s.speed);\n        };\n        n.onerror = function () {\n          s.speed = 10000;\n          s.squares = _this2.getSquares(s.speed);\n        };\n        _this2.$el.appendChild(n);\n      });\n    },\n    getColors: function getColors(s) {\n      if (s) {\n        if (s < 5) {\n          return 'red';\n        } else if (s < 10) {\n          return 'orange';\n        } else if (s < 15) {\n          return 'green';\n        } else if (s < 20) {\n          return 'blue';\n        }\n      }\n      return 'red';\n    },\n    getSquares: function getSquares(s) {\n      if (s) {\n        if (s < 50) {\n          return 19;\n        } else if (s < 100) {\n          return 17;\n        } else if (s < 200) {\n          return 15;\n        } else if (s < 300) {\n          return 13;\n        } else if (s < 400) {\n          return 11;\n        } else if (s < 500) {\n          return 9;\n        } else if (s < 700) {\n          return 7;\n        } else if (s < 900) {\n          return 5;\n        } else if (s < 1000) {\n          return 3;\n        } else if (s < 2000) {\n          return 2;\n        } else if (s < 5000) {\n          return 1;\n        }\n      }\n      return 0;\n    }\n  }\n});\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/0.3b36fa6c0c919d9067a1.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"scoped\\\":false,\\\"sourceMap\\\":false}!../../../node_modules/stylus-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./speed.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"3ca56719\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"optionsId\":\"0\",\"vue\":true,\"scoped\":false,\"sourceMap\":false}!./node_modules/stylus-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/popup/speed.vue\n// module id = 1004\n// module chunks = 0","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".speed .tag{position:absolute;top:0;left:0;height:40px;line-height:40px;width:100px;-webkit-transform:rotate(-45deg) translateX(-20px) translateY(-25px);transform:rotate(-45deg) translateX(-20px) translateY(-25px)}\", \"\", {\"version\":3,\"sources\":[\"E:/company/vue.xy.h5.pwa/src/views/popup/speed.vue\"],\"names\":[],\"mappings\":\"AACA,YACE,kBAAmB,AACnB,MAAO,AACP,OAAQ,AACR,YAAa,AACb,iBAAkB,AAClB,YAAa,AACb,qEAAuE,AAC/D,4DAA+D,CACxE\",\"file\":\"speed.vue\",\"sourcesContent\":[\"\\n.speed .tag {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  height: 40px;\\n  line-height: 40px;\\n  width: 100px;\\n  -webkit-transform: rotateZ(-45deg) translateX(-20px) translateY(-25px);\\n          transform: rotateZ(-45deg) translateX(-20px) translateY(-25px);\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"optionsId\":\"0\",\"vue\":true,\"scoped\":false,\"sourceMap\":false}!./node_modules/stylus-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/popup/speed.vue\n// module id = 1005\n// module chunks = 0","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('f7-page',{staticClass:\"speed bg-color-deeporange\"},[_c('f7-navbar',[_c('f7-nav-left',[_c('f7-link',{attrs:{\"text\":\"取消\",\"color\":\"gray\",\"popup-close\":\"#speed\"}})],1),_c('f7-nav-title',[_vm._v(\"线路切换\")])],1),_vm._l((_vm.sortedSites),function(site,i){return _c('div',{key:site.url,staticClass:\"mg_15 pd_20 bg-color-white r_10 p_r o_h\",class:{ current: _vm.window.location.origin === site.url },on:{\"click\":function($event){_vm.window.location.href = site.url}}},[( !i )?_c('div',{staticClass:\"tag bg-color-red t_c\"},[_vm._v(\"推荐\")]):_vm._e(),_c('div',{staticClass:\"t_r\"},[_vm._v(_vm._s(site.speed)+\"ms\")]),_c('div',{staticClass:\"t_r\"},[_c('span',{staticClass:\"pr_10 inlb v_m\"},[_vm._v(\"线路\"+_vm._s(i+1))]),_c('f7-progressbar',{staticClass:\"wp_80 inlb h_10\",attrs:{\"progress\":site.squares * 5,\"color\":_vm.getColors(site.squares)}})],1)])})],2)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3ce19dfe\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/template-compiler/preprocessor.js?engine=pug&optionsId=0!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/popup/speed.vue\n// module id = 1006\n// module chunks = 0","function injectStyle (context) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"scoped\\\":false,\\\"sourceMap\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./speed.vue\")\n}\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./speed.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./speed.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3ce19dfe\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/template-compiler/preprocessor?engine=pug&optionsId=0!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./speed.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/popup/speed.vue\n// module id = 992\n// module chunks = 0","<template lang=\"pug\">\r\n    \r\nf7-page.speed.bg-color-deeporange\r\n  f7-navbar\r\n    f7-nav-left\r\n      f7-link(text=\"取消\" color=\"gray\" popup-close=\"#speed\")\r\n    f7-nav-title 线路切换\r\n  \r\n  .mg_15.pd_20.bg-color-white.r_10.p_r.o_h(:key=\" site.url \" v-for=\" (site, i) in sortedSites \" @click=\" window.location.href = site.url \" :class=\" { current: window.location.origin === site.url } \")\r\n    .tag.bg-color-red.t_c(v-if=\" !i \") 推荐\r\n    .t_r {{ site.speed }}ms\r\n    .t_r\r\n      span.pr_10.inlb.v_m 线路{{ i+1 }}\r\n      f7-progressbar.wp_80.inlb.h_10(:progress=\" site.squares * 5 \" :color=\" getColors(site.squares) \")\r\n  \r\n  \r\n\r\n</template>\r\n\r\n<script>\r\nimport config from '@/config'\r\nimport api from '@/api'\r\nexport default {\r\n  mixins: [config],\r\n  components: {\r\n  },\r\n  name: 'speed',\r\n  props: [],\r\n  data () {\r\n    return {\r\n      sites: []\r\n    }\r\n  },\r\n  computed: {\r\n    sortedSites () {\r\n      return this.sites.sort((a, b) => a.speed - b.speed)\r\n    }\r\n  },\r\n  created () {\r\n  },\r\n  methods: {\r\n    __getNewEnableLines () {\r\n      this.getNewEnableLines()\r\n    },\r\n    getNewEnableLines () {\r\n      this.$.get(api.getNewEnableLines).then(({data: {frontList}}) => {\r\n        this.sites = Array(frontList.length).fill(0).map((x, i) => (x = {url: frontList[i].line, speed: 2000, squares: 2}))\r\n        this.getSpeed()\r\n      })\r\n    },\r\n    getSpeed (s) {\r\n      this.sites.forEach((s, i) => {\r\n        let n = document.createElement('script')\r\n        let t = Date.now()\r\n        n.setAttribute('src', s.url + '/dscagamesclient/login/lineTest.do?method=lineTest')\r\n        n.onload = () => {\r\n          s.speed = Date.now() - t\r\n          s.squares = this.getSquares(s.speed)\r\n        }\r\n        n.onerror = () => {\r\n          s.speed = 10000\r\n          s.squares = this.getSquares(s.speed)\r\n        }\r\n        this.$el.appendChild(n)\r\n      })\r\n    },\r\n    getColors (s) {\r\n      if (s) {\r\n        if (s < 5) {\r\n          return 'red'\r\n        } else if (s < 10) {\r\n          return 'orange'\r\n        } else if (s < 15) {\r\n          return 'green'\r\n        } else if (s < 20) {\r\n          return 'blue'\r\n        }\r\n      }\r\n      return 'red'\r\n    },\r\n    getSquares (s) {\r\n      if (s) {\r\n        if (s < 50) {\r\n          return 19\r\n        } else if (s < 100) {\r\n          return 17\r\n        } else if (s < 200) {\r\n          return 15\r\n        } else if (s < 300) {\r\n          return 13\r\n        } else if (s < 400) {\r\n          return 11\r\n        } else if (s < 500) {\r\n          return 9\r\n        } else if (s < 700) {\r\n          return 7\r\n        } else if (s < 900) {\r\n          return 5\r\n        } else if (s < 1000) {\r\n          return 3\r\n        } else if (s < 2000) {\r\n          return 2\r\n        } else if (s < 5000) {\r\n          return 1\r\n        }\r\n      }\r\n      return 0\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\">\r\n@import '~src/css/var.stylus'\r\n// 建议不添加scoped， 所有样式最多嵌套2层\r\n.speed\r\n  .tag\r\n    position absolute\r\n    top 0\r\n    left 0\r\n    height 40px\r\n    line-height 40px\r\n    width 100px\r\n    transform rotateZ(-45deg) translateX(-20px) translateY(-25px)\r\n    \r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/popup/speed.vue"],"sourceRoot":""}